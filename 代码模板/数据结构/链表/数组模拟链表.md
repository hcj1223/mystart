# 数组模拟链表

## 单链表

```c++
int head, e[N], ne[N], idx;
//初始化
void init()
{
    head = -1, idx = 0;
}
//头插法
void addtohead(int x)
{
    e[idx] = x, ne[idx] = head, head = idx++;
}
//插到下标是k的点的后面
void add(int k, int x)
{
    e[idx] = x, ne[idx] = ne[k], ne[k] = idx++;
}
//将下标是k的后面的点删除
void remove(int k)
{
    ne[k] = ne[ne[k]];
}
//删除头节点
head = ne[head];
//遍历
for (int i = head; i != -1; i = ne[i])
```

------

## 双链表

#### 1.写法一

```c++
int e[N], l[N], r[N], idx;
//初始化
void init()
{
    r[0] = 1, l[1] = 0, idx = 2;
}
//插到下标是k的点的右面
void add(int k, int x)
{
    e[idx] = x, r[idx] = r[k], l[idx] = k, l[r[k]] = idx, r[k] = idx, idx++;
}
//将下标是k的点删除
void remove(int k)
{
    r[l[k]] = r[k], l[r[k]] = l[k];
}
//在最左侧插入一个数
add(0, x);
//在最右侧插入一个数
add(l[1], x);
//遍历
for (int i = r[0]; i != 1; i = r[i])
```

#### 2.写法二

```c++
int l[N], r[N];
int Lx = l[x], Rx = r[x];
//初始化
void init()
{
    l[0] = n, r[0] = 1;
    for (int i = 1; i <= n; i++)
        l[i] = i - 1, r[i] = (i + 1) % (n + 1);
}
//连接函数
void link(int L, int R)
{
    l[R] = L, r[L] = R;
}
//删除x
link(Lx, Rx);
//遍历
int j = 0;
for (int i = 1; i <= n; i++)
    j = r[j];
```
